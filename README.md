# DS677004 Deep Learning - Project Submission

**Student:** Shaily and Divyaraj

**Course:** DS677004 Deep Learning

**Instructor:** Professor Phan

**Institution:** New Jersey Institute of Technology (NJIT), Data Science Department

**Semester:** Spring 2025

## Project Overview

This submission contains the "Python Self-Align Pipeline," a project focused on automatically generating instruction-response pairs for fine-tuning code generation models. The pipeline implements and extends concepts from the StarCoder2 Self-Align methodology, specifically tailored for Python code.

The core of the project involves:
1.  **Seed Gathering**: Extracting high-quality Python functions from "The Stack v2" dataset using Tree-Sitter for robust parsing.
2.  **Self-OSS-Instruct**: A multi-step process (Seed-to-Concept, Concept-to-Instruction, Instruction-to-Response) using a large language model (StarCoder2-15B) to generate instruction-following data.
3.  **Validation**: A comprehensive validation suite that checks for code execution, PEP 8 compliance, type hints, docstring quality, complexity, and alignment with the original instruction.

GPU optimization techniques, such as 8-bit quantization, are employed to manage computational resources during the generation phases.

## Submission Contents

This submission package is structured as follows:

*   `python_self_align/`: This directory contains the full source code for the Python Self-Align pipeline.
    *   `README.md`: (Located inside `python_self_align/`) Detailed information about the pipeline, its features, prerequisites, installation, usage, and technical specifics.
    *   `run_full_pipeline.py`: The main script to execute the entire pipeline.
    *   `requirements.txt`: Lists all Python dependencies.
    *   `ENV_SETUP.md`: Provides guidance on setting up the necessary environment, particularly for Tree-Sitter.
    *   `presentation.md`: Contains the detailed technical notes and presentation slides (as markdown) covering Tree-Sitter integration, Stack v2 usage, GPU optimization, and the validation process.
    *   Other subdirectories (`seed_gathering/`, `self_oss_instruct/`, `validation/`, `util/`) contain modular components of the pipeline.

*   `pipeline_output_test/`: An example output directory generated by running the pipeline. This demonstrates the structure of the output, including:
    *   `seed_output/`: Filtered seed functions.
    *   `self_oss_output/`: Generated concepts, instructions, and responses.
    *   `validation_output/`: Validation results.
    *   `final_dataset/`: The final instruction-response dataset (`instruction_dataset.jsonl`).
    *   `pipeline_report.md`: A summary report of the example pipeline run.
    *   `pipeline.log`: A detailed log from the example run.

*   `.gitignore`: Specifies intentionally untracked files for Git.
*   `README.md`: (This file) An overall guide to the submission.

## How to Run the Pipeline

1.  **Navigate to the Code Directory**:
    It's assumed the project files are in a directory (e.g., `DL_Submission`). The main code is within the `python_self_align` subdirectory.

2.  **Setup Environment & Install Dependencies**:
    Please refer to the detailed instructions in `python_self_align/ENV_SETUP.md` and `python_self_align/README.md` for setting up the Python environment (Python 3.9+ recommended), installing Tree-Sitter C compiler dependencies, and installing Python packages via `pip install -r python_self_align/requirements.txt`. A Hugging Face token (`HF_TOKEN`) is also required, as detailed in the prerequisites.

3.  **Execute the Pipeline**:
    From the root of the submission directory (e.g., `DL_Submission/`), you can run the full pipeline using the following command:

    ```bash
    python -m python_self_align.run_full_pipeline --output_dir pipeline_output_run --num_samples 50 --clean
    ```
    *   `--output_dir`: Specify a directory for the output (e.g., `pipeline_output_run`).
    *   `--num_samples`: Number of seed samples to process (e.g., `50` for a quicker test run; the example `pipeline_output_test` was generated with `5000`).
    *   `--clean`: (Optional) Cleans the output directory before running.

    For more detailed usage instructions, arguments, and technical explanations, please see `python_self_align/README.md`.

## Technical Documentation

The file `python_self_align/presentation.md` serves as the primary technical documentation and presentation material. It elaborates on the key technical aspects of the project as outlined in the initial project description.